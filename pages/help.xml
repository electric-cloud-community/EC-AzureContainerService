<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/html; charset=us-ascii" http-equiv="content-type"/>
    <title>@PLUGIN_KEY@ Plugin</title>
    <link rel="stylesheet" href="../../plugins/@PLUGIN_NAME@/pluginhelp.css" type="text/css" media="screen"/>
</head>
<body>
<!--
    Generated by PluginWizardHelp
    https://github.com/electric-cloud/PluginWizardHelp
    Do *NOT* edit manually, use help file generation.
-->
<div class="help">
    <h1>@PLUGIN_KEY@</h1>
    <p>Plugin version @PLUGIN_VERSION@</p>
    <hr style="margin-left: -10px; margin-top: 10px; height: 1px; width: 100%; color: #5981BD;" noshade="noshade"/>
    <h3>Overview</h3>
    <p><p>Plugin overview EC-AzureContainerService plugin integrates with the Azure Container Service to run Docker containers on the Azure Cloud Platform using Kubernetes.</p>
</p>
    
    <h1>Contents</h1>
    <ul>
    <li><a href="#overview">Overview</a></li>
    
    <li><a href="#CreateConfiguration">Plugin Configuration</a></li>
    
    <li><a href="#procedures">Plugin Procedures</a></li>
    <ul>
        

        <li><a href="#ProvisionCluster">Provision Cluster</a></li>
        

        <li><a href="#DeployService">Deploy Service</a></li>
        

        <li><a href="#UndeployService">Undeploy Service</a></li>
        
    </ul>
    
    
    <li><a href="#releaseNotes">Release Notes</a></li>
</ul>
    
    <div id="CreateConfiguration">
        <a name='CreateConfiguration' id="CreateConfiguration"> </a>
        <h2>Plugin Configurations</h2>

        <p>
            Plugin configurations are sets of parameters that apply
            across some or all of the plugin procedures. They
            reduce repetition of common values, create
            predefined parameter sets for end users, and
            securely store credentials where needed. Each configuration
            is given a unique name that is entered in designated
            parameters on procedures that use them.<br /><br />
        </p>

        <h3>Creating Plugin Configurations</h3>
        <p>To create plugin configurations in ElectricFlow,
            do these steps:</p>

        <li>Go to <b>Administration</b> &gt; <b>Plugins</b> to open the Plugin Manager.</li>
        <li>Find the @PLUGIN_NAME@ row.</li>
        <li>Click <b>Configure</b> to open the
             Configurations page.</li>
        <li>Click <b>Create Configuration</b>.</li>
        
        <h4>Prerequisites</h4>
<ol>
<li>EC-Kubernetes plugin version 1.0.5 or higher</li>
</ol>

        
        Configuration Parameters
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                <td class="required">Configuration</td>
                <td>Unique name for the plugin configuration.</td>
            </tr>
            
            <tr>
                <td >Description</td>
                <td>Description for the plugin configuration.</td>
            </tr>
            
            <tr>
                <td class="required">Tenant ID</td>
                <td>Tenant ID of the Azure Account</td>
            </tr>
            
            <tr>
                <td class="required">Subscription ID</td>
                <td>Subscription ID of the Azure Account</td>
            </tr>
            
            <tr>
                <td class="required">Service Principal Details</td>
                <td>The Client ID and the Key of the Service principal created in Azure.</td>
            </tr>
            
            <tr>
                <td >Public Key</td>
                <td>The public key that should be used for cluster creation and communication.</td>
            </tr>
            
            <tr>
                <td class="required">Private Key</td>
                <td>The private key that should be used for cluster creation and communication.</td>
            </tr>
            
            <tr>
                <td >Test Connection?</td>
                <td>Test that the given service account details can be used to successfully connect to the cluster in Azure Container Service.</td>
            </tr>
            
            <tr>
                <td >Log Level</td>
                <td>Log level to use for logging output. Error=4, Warning=3, Info=2, Debug=1.</td>
            </tr>
            
            </tbody>
        </table>
        
    </div>
    

    <h1 id="procedures">Plugin Procedures</h1>
    

    
    <div id="ProvisionCluster">
        <h2>Provision Cluster</h2>
        <p>Provisions a Azure Container Service cluste. Pods, services, and replication controllers all run on top of a cluster.</p>
        
            <p>IMPORTANT: For all parameter descriptions below, required parameters are shown in bold italics. Please note that some of names given in ElectricFlow UI will be modified to comply with the naming conventions of Kubernetes. Specifically characters such as &quot;space , _ &quot; will be converted to &quot;-&quot;. Such parameters are marked with an asterisk (*).</p>

        
        <h3>Provision Cluster Parameters</h3>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                <td class="required">Configuration</td>
                <td>The name of an existing configuration which holds all the connection information for Azure Container Service.</td>
            </tr>
            
            <tr>
                <td class="required">Container Cluster Name</td>
                <td>The name of the cluster that needs to be provisioned.</td>
            </tr>
            
            <tr>
                <td class="required">Resource Group Name</td>
                <td>All cluster resources will be created under this resource group name.</td>
            </tr>
            
            <tr>
                <td >Orchestrator Type</td>
                <td>The orchestrator to use for provisioning cluster.</td>
            </tr>
            
            <tr>
                <td class="required">Master Zone</td>
                <td>The primary zone for the cluster. The master zone for a cluster is set at creation time and cannot be updated so this parameter will be ignored if the cluster already exists.</td>
            </tr>
            
            <tr>
                <td >Admin User Name</td>
                <td>The name of Administrator user for VMs</td>
            </tr>
            
            <tr>
                <td class="required">Number Of Master VMs</td>
                <td>The number of masters to be created in the cluster. Values allowed are 1, 3 or 5 with 1 as default.</td>
            </tr>
            
            <tr>
                <td class="required">Master DNS Prefix</td>
                <td>The DNS prefix to be used to create the FQDN of the master</td>
            </tr>
            
            <tr>
                <td class="required">Master FQDN</td>
                <td>FQDN of the master</td>
            </tr>
            
            <tr>
                <td >Master VM Size</td>
                <td>Size of the Master VM. It has to be one of sizes listed here: https://docs.microsoft.com/en-us/azure/virtual-machines/virtual-machines-windows-sizes</td>
            </tr>
            
            <tr>
                <td class="required">Agent Pool Name</td>
                <td>The name of agent pool in which agents will be created</td>
            </tr>
            
            <tr>
                <td class="required">Agent Pool Count</td>
                <td>Number of agents that should be created in the pool</td>
            </tr>
            
            <tr>
                <td class="required">Agent Pool VM Size</td>
                <td>Size of the Agent VM. It has to be one of sizes listed here: https://docs.microsoft.com/en-us/azure/virtual-machines/virtual-machines-windows-sizes</td>
            </tr>
            
            <tr>
                <td class="required">Agent DNS Prefix</td>
                <td>DNS prefix to be used to create the FQDN of agent pool</td>
            </tr>
            
            <tr>
                <td class="required">The wait time for cluster creation (In minutes)</td>
                <td>Timeout for cluster creation. If the cluster does not get created in this amount of time, the procedure fails.</td>
            </tr>
            
            <tr>
                <td >Time for cluster preparation after creation (In Seconds)</td>
                <td>After the cluster is created it need to create service accounts etc. which can take a few seconds before services can be deployed</td>
            </tr>
            
            </tbody>
        </table>
        
    </div>

    
    <div id="DeployService">
        <h2>Deploy Service</h2>
        <p>Creates or updates a Deployment to bring up a Replica Set and Pods.</p>
        
        <h3>Deploy Service Parameters</h3>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                <td class="required">Service Name</td>
                <td>The name of the service in ElectricFlow that encapsulates the service to be deployed on the Azure Container Service.</td>
            </tr>
            
            <tr>
                <td >Service Revision ID</td>
                <td>Revision Id of the service in ElectricFlow.</td>
            </tr>
            
            <tr>
                <td class="required">Project Name</td>
                <td>The name of the project that the service belongs to. In case of an application-level service it also owns the application.</td>
            </tr>
            
            <tr>
                <td >Application Name</td>
                <td>The name of the application that the service belongs to. Not applicable for a top-level service.</td>
            </tr>
            
            <tr>
                <td >Application Revision ID</td>
                <td>Revision Id of the application version that the service belongs to.</td>
            </tr>
            
            <tr>
                <td class="required">Cluster Name</td>
                <td>The name of the cluster in ElectricFlow that encapsulates the Azure Container Service on which the service is to be deployed.</td>
            </tr>
            
            <tr>
                <td >Cluster Or Environment Project Name</td>
                <td>The name of the project that the cluster belongs to if it is a top-level project cluster. Or the name of the project that the environment belongs to if it is an environment-scoped cluster.</td>
            </tr>
            
            <tr>
                <td >Environment Name</td>
                <td>The name of the environment that the cluster belongs to. Not applicable for a top-level project cluster.</td>
            </tr>
            
            <tr>
                <td >Results Property Sheet</td>
                <td>Name of the property sheet where the output properties for the deployed service will be saved. If not specified, will default to '/myParent/parent'.</td>
            </tr>
            
            </tbody>
        </table>
        
    </div>

    
    <div id="UndeployService">
        <h2>Undeploy Service</h2>
        <p>Undeploys a previously deployed service on the Azure Container Service</p>
        
        <h3>Undeploy Service Parameters</h3>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            
            <tr>
                <td class="required">Service Name</td>
                <td>The name of the service in ElectricFlow that encapsulates the service that was previously deployed on the Azure Container Service.</td>
            </tr>
            
            <tr>
                <td >Service Revision ID</td>
                <td>Revision Id of the service in ElectricFlow.</td>
            </tr>
            
            <tr>
                <td class="required">Project Name</td>
                <td>The name of the project that the service belongs to. In case of an application-level service it also owns the application.</td>
            </tr>
            
            <tr>
                <td >Application Name</td>
                <td>The name of the application that the service belongs to. Not applicable for a top-level service.</td>
            </tr>
            
            <tr>
                <td >Application Revision ID</td>
                <td>Revision Id of the application version that the service belongs to.</td>
            </tr>
            
            <tr>
                <td class="required">Environment Name</td>
                <td>The name of the environment that the cluster belongs to.</td>
            </tr>
            
            <tr>
                <td >Environment Project Name</td>
                <td>The name of the project that the environment belongs to. If not specified, the environment is assumed to be in the same project as the service.</td>
            </tr>
            
            <tr>
                <td >Cluster Name</td>
                <td>The name of the cluster in the environment on which the service was previously deployed. If not specified, the application tier mapping will be used to find the cluster name.</td>
            </tr>
            
            </tbody>
        </table>
        
    </div>

    

    

    

    <h1 id="releaseNotes">Release Notes</h1>
    
    <h3>@PLUGIN_KEY@ 1.0.5</h3>
    <ul>
        
        <li>Configured the plugin to allow the ElectricFlow UI to render the plugin procedure parameters entirely using the configured form XMLs.</li>
        
        <li>Enabled the plugin for managing the plugin configurations in-line when defining an application process step or a pipeline stage task.</li>
        
    </ul>
    
    <h3>@PLUGIN_KEY@ 1.0.3</h3>
    <ul>
        
        <li>Fixed the invalid credential name error in the <i>Undeploy Service</i> procedure.</li>
        
        <li>Configured the 'setup' procedure step that retrieves groovy dependency jars to run all subsequent procedure steps on the same resource.</li>
        
    </ul>
    
    <h3>@PLUGIN_KEY@ 1.0.2</h3>
    <ul>
        
        <li>Added procedure <i>Undeploy Service</i> to undeploy a previously deployed service.</li>
        
        <li>EC-AzureContainerService plugin is now able to provision clusters in any specified region.</li>
        
        <li>Added parameter <i>masterVmsize</i> to specify the size for the master VM in the Kubernetes cluster provisioned by Azure Container Service.</li>
        
        <li>Removed unused parameter <i>additionalAttributes</i> from container mapping configuration.</li>
        
        <li>When deploying a microservice through ElectricFlow on a Kubernetes cluster provisioned by Azure Container Service, the plugin will now monitor the deployment progress in the cluster and cause the step to fail in case the deployment does not complete within the deployment timeout configured as part of the service mapping. The default timeout value is 120 seconds.</li>
        
        <li>When deploying a microservice through ElectricFlow on a Kubernetes cluster provisioned by Azure Container Service, the service name to use in the cluster can now be overridden through the service mapping.</li>
        
        <li>When deploying a microservice through ElectricFlow on a Kubernetes cluster provisioned by Azure Container Service, the deployment name to use in the cluster can now be overridden through the service mapping. See section <b>Blue/Green Deployments</b> in the EC-Kubernetes plugin help for details on how this ability can be used to implement a blue/green deployment strategy.</li>
        
        <li>Added support for canary deployments. See section <b>Canary Deployments</b> in the EC-Kubernetes plugin help for details.</li>
        
    </ul>
    
    <h3>@PLUGIN_KEY@ 1.0.1</h3>
    <ul>
        
        <li>Updated the <i>Define Service</i> procedure to include namespace and service type parameters. This procedure is an internal procedure used for specifying cluster specific service mappings in ElectricFlow.</li>
        
        <li>Fixed the <i>Test Connection</i> step in the <i>Create Configuration</i> procedure.</li>
        
    </ul>
    
    <h3>@PLUGIN_KEY@ 1.0.0</h3>
    <ul>
        
        <li>First release.</li>
        
    </ul>
    
</div>
</body>
</html>
